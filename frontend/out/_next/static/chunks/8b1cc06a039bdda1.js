(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55166,8133,e=>{"use strict";let t="fluent-adaptive";function a(){try{let e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch{}return{modeStats:{},frequentPhrases:[],frustrationLevel:0,sessionStartTime:Date.now(),totalInputsThisSession:0}}function s(e,s,r,o){let l=a();l.modeStats[e]||(l.modeStats[e]={mode:e,totalInputs:0,successfulInputs:0,avgSpeed:0,lastUsed:0,recentErrors:0,trend:"stable"});let i=l.modeStats[e];i.totalInputs++,s?i.successfulInputs++:i.recentErrors++,i.avgSpeed=0===i.avgSpeed?r:.8*i.avgSpeed+.2*r,i.lastUsed=Date.now();let n=i.successfulInputs/i.totalInputs;if(n>.85?i.trend="improving":n>.6?i.trend="stable":i.trend="declining",s?l.frustrationLevel=Math.max(0,l.frustrationLevel-10):l.frustrationLevel=Math.min(100,l.frustrationLevel+25),o&&o.length>3){let e=l.frequentPhrases.find(e=>e.text===o);e?e.count++:l.frequentPhrases.push({text:o,count:1}),l.frequentPhrases.sort((e,t)=>t.count-e.count),l.frequentPhrases=l.frequentPhrases.slice(0,20)}l.totalInputsThisSession++;try{localStorage.setItem(t,JSON.stringify(l))}catch{}}function r(){let e=a();if(e.frustrationLevel>=75){let t=Object.values(e.modeStats).sort((e,t)=>{let a=e.successfulInputs/(e.totalInputs||1);return t.successfulInputs/(t.totalInputs||1)-a})[0];return t?{type:"switch_mode",message:`Having trouble? Try switching to ${t.mode} â€” your accuracy is ${Math.round(t.successfulInputs/t.totalInputs*100)}% there.`,suggestedMode:t.mode}:{type:"take_break",message:"It seems like things are tricky right now. Take a short break?"}}return(Date.now()-e.sessionStartTime)/6e4>45&&e.totalInputsThisSession>50?{type:"take_break",message:"You've been working for a while. A short break can help!"}:{type:"none",message:""}}function o(){return a().frequentPhrases.slice(0,8).map(e=>e.text)}function l(){return Object.values(a().modeStats).sort((e,t)=>t.lastUsed-e.lastUsed)}function i(){localStorage.removeItem(t)}e.s(["getFrequentPhrases",()=>o,"getModeStats",()=>l,"getSuggestion",()=>r,"recordInput",()=>s,"resetAdaptive",()=>i],55166);var n=e.i(77381),c=e.i(80865),d=e.i(88147);let x=c.forwardRef(({className:e,...t},a)=>(0,n.jsx)("div",{ref:a,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));x.displayName="Card",c.forwardRef(({className:e,...t},a)=>(0,n.jsx)("div",{ref:a,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",c.forwardRef(({className:e,...t},a)=>(0,n.jsx)("div",{ref:a,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",c.forwardRef(({className:e,...t},a)=>(0,n.jsx)("div",{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription",c.forwardRef(({className:e,...t},a)=>(0,n.jsx)("div",{ref:a,className:(0,d.cn)("p-6 pt-0",e),...t})).displayName="CardContent",c.forwardRef(({className:e,...t},a)=>(0,n.jsx)("div",{ref:a,className:(0,d.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>x],8133)},33125,4283,e=>{"use strict";var t=e.i(77381),a=e.i(80865),s=e.i(86070),r=e.i(69215);let o=(0,r.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>o],4283);let l=(0,r.default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var i=e.i(12271);function n({title:e,description:r,icon:n,color:c,children:d,helpContent:x}){let[p,u]=a.default.useState(!1);return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)(s.default,{href:"/",children:(0,t.jsx)(i.Button,{variant:"outline",size:"sm",className:"border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] transition-all font-bold","aria-label":"Back to dashboard",children:(0,t.jsx)(o,{className:"h-4 w-4"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,t.jsx)("div",{className:`p-2 rounded-xl border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] ${c||"bg-primary"}`,children:n}),(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-black text-foreground",children:e})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:r})]}),x&&(0,t.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>u(!p),className:"border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] transition-all font-bold","aria-label":"Show help",children:(0,t.jsx)(l,{className:"h-4 w-4"})})]}),p&&x&&(0,t.jsx)("div",{className:"p-4 bg-card border-4 border-border rounded-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:(0,t.jsx)("p",{className:"text-sm font-medium",children:x})}),d]})}e.s(["ModePageLayout",()=>n],33125)},98831,e=>{"use strict";let t=(0,e.i(69215).default)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);e.s(["Settings2",()=>t],98831)},19825,e=>{"use strict";var t=e.i(77381),a=e.i(80865),s=e.i(69215);let r=(0,s.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),o=(0,s.default)("camera-off",[["path",{d:"M14.564 14.558a3 3 0 1 1-4.122-4.121",key:"1rnrzw"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M20 20H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 .819-.175",key:"1x3arw"}],["path",{d:"M9.695 4.024A2 2 0 0 1 10.004 4h3.993a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v7.344",key:"1i84u0"}]]),l=(0,s.default)("flip-horizontal",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]);var i=e.i(12271);function n({onFrame:e,frameInterval:s=100,mirror:n=!0,className:c="",showControls:d=!0}){let x=(0,a.useRef)(null),[p,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(null),[f,g]=(0,a.useState)(n),[b,v]=(0,a.useState)(!1),j=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:640,height:480}});x.current&&(x.current.srcObject=e,await x.current.play()),u(e),v(!0),h(null)}catch{h("Could not access camera. Please allow camera permissions.")}};return((0,a.useEffect)(()=>{if(!b||!e||!x.current)return;let t=setInterval(()=>{x.current&&e(x.current)},s);return()=>clearInterval(t)},[b,e,s]),(0,a.useEffect)(()=>()=>{p?.getTracks().forEach(e=>e.stop())},[p]),m)?(0,t.jsxs)("div",{className:`flex flex-col items-center justify-center gap-3 p-8 bg-card border-4 border-border rounded-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] ${c}`,children:[(0,t.jsx)(o,{className:"h-12 w-12 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-sm font-bold text-center text-muted-foreground",children:m}),(0,t.jsx)(i.Button,{onClick:j,className:"font-bold border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)]",children:"Try Again"})]}):(0,t.jsxs)("div",{className:`relative bg-card border-4 border-border rounded-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] overflow-hidden ${c}`,children:[b?(0,t.jsx)("video",{ref:x,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-full object-cover ${f?"scale-x-[-1]":""}`}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3 p-8 min-h-[200px]",children:[(0,t.jsx)(r,{className:"h-12 w-12 text-muted-foreground"}),(0,t.jsx)(i.Button,{onClick:j,className:"font-bold border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)]",children:"Start Camera"})]}),d&&b&&(0,t.jsxs)("div",{className:"absolute bottom-2 right-2 flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>g(!f),className:"p-1.5 bg-black/50 text-white rounded-lg hover:bg-black/70 transition-colors","aria-label":"Flip camera",children:(0,t.jsx)(l,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>{p?.getTracks().forEach(e=>e.stop()),u(null),v(!1)},className:"p-1.5 bg-destructive/80 text-white rounded-lg hover:bg-destructive transition-colors","aria-label":"Stop camera",children:(0,t.jsx)(o,{className:"h-4 w-4"})})]})]})}e.s(["WebcamPreview",()=>n],19825)},67694,e=>{"use strict";let t=(0,e.i(69215).default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);e.s(["Square",()=>t],67694)},82029,e=>{"use strict";var t=e.i(77381),a=e.i(80865),s=e.i(81503),r=e.i(55166),o=e.i(33125),l=e.i(19825),i=e.i(8133),n=e.i(12271),c=e.i(84905),d=e.i(99122),x=e.i(67694),p=e.i(98831);let u=[{expression:"Smile",emoji:"ðŸ˜Š",action:"Yes"},{expression:"Frown",emoji:"ðŸ˜Ÿ",action:"No"},{expression:"Eyebrow Raise",emoji:"ðŸ¤¨",action:"Help"},{expression:"Mouth Open",emoji:"ðŸ˜®",action:"Wow"},{expression:"Blink Ã—2",emoji:"ðŸ˜‘",action:"Enter"},{expression:"Wink Left",emoji:"ðŸ˜‰",action:"Yes"},{expression:"Wink Right",emoji:"ðŸ˜",action:"No"},{expression:"Pout",emoji:"ðŸ˜¤",action:"Undo"}];function m(){let{appendOutput:e}=(0,s.useFluentContext)(),[m,h]=(0,a.useState)(!1),[f,g]=(0,a.useState)(u),[b,v]=(0,a.useState)(null),[j,y]=(0,a.useState)([]);return(0,t.jsx)(o.ModePageLayout,{title:"Facial Expression",description:"Use facial expressions to input commands. Smile, frown, blink, and more â€” all customizable.",icon:(0,t.jsx)(c.Smile,{className:"h-6 w-6 text-white"}),color:"bg-rose-500",helpContent:"Start detection and make facial expressions. Each expression triggers a mapped action. You can also click expressions directly below to trigger them manually.",children:(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(l.WebcamPreview,{className:"aspect-video"}),(0,t.jsx)(n.Button,{onClick:()=>{if(m)h(!1);else{h(!0);let t=setInterval(()=>{let t=f[Math.floor(Math.random()*f.length)];v(t.expression),e(t.action+" "),y(e=>[`${t.emoji} ${t.expression} â†’ "${t.action}"`,...e.slice(0,9)]),(0,r.recordInput)("facial",!0,2e3,t.action)},3500);setTimeout(()=>clearInterval(t),6e4)}},className:`w-full gap-2 font-bold border-2 border-border shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] transition-all ${m?"bg-destructive hover:bg-destructive":""}`,children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Square,{className:"h-4 w-4"})," Stop Detection"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Play,{className:"h-4 w-4"})," Start Detection"]})}),(0,t.jsxs)(i.Card,{className:"p-4 border-4 border-border shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[(0,t.jsx)("h3",{className:"font-black text-sm mb-3",children:"Quick Trigger (click to activate)"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:f.map((a,s)=>(0,t.jsxs)("button",{onClick:()=>{v(a.expression),e(a.action+" "),y(e=>[`${a.emoji} ${a.expression} â†’ "${a.action}"`,...e.slice(0,9)]),(0,r.recordInput)("facial",!0,500,a.action)},className:`p-3 rounded-xl border-2 border-border text-center transition-all
                    shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px]
                    ${b===a.expression?"bg-primary text-primary-foreground scale-105":"bg-card hover:bg-muted"}`,"aria-label":`Trigger ${a.expression}`,children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:a.emoji}),(0,t.jsx)("div",{className:"text-[10px] font-bold leading-tight",children:a.expression})]},s))})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(i.Card,{className:"p-4 border-4 border-border shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[(0,t.jsxs)("h3",{className:"font-black text-sm mb-3 flex items-center gap-2",children:[(0,t.jsx)(p.Settings2,{className:"h-4 w-4"})," Expression Mappings"]}),(0,t.jsx)("div",{className:"space-y-2",children:f.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-lg",children:e.emoji}),(0,t.jsx)("span",{className:"text-xs font-bold flex-shrink-0 w-20",children:e.expression}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"â†’"}),(0,t.jsx)("input",{type:"text",value:e.action,onChange:e=>{var t;return t=e.target.value,void g(e=>e.map((e,s)=>s===a?{...e,action:t}:e))},className:"flex-1 px-2 py-1 border-2 border-border rounded-lg text-xs font-bold bg-input min-w-0","aria-label":`Action for ${e.expression}`})]},a))})]}),j.length>0&&(0,t.jsxs)(i.Card,{className:"p-4 border-4 border-border shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[(0,t.jsx)("h3",{className:"font-black text-sm mb-2",children:"Detection Log"}),(0,t.jsx)("div",{className:"space-y-1 max-h-[200px] overflow-y-auto",children:j.map((e,a)=>(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:e},a))})]})]})]})})}e.s(["default",()=>m])}]);