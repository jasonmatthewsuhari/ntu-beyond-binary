(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55166,8133,e=>{"use strict";let t="fluent-adaptive";function r(){try{let e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch{}return{modeStats:{},frequentPhrases:[],frustrationLevel:0,sessionStartTime:Date.now(),totalInputsThisSession:0}}function a(e,a,s,n){let l=r();l.modeStats[e]||(l.modeStats[e]={mode:e,totalInputs:0,successfulInputs:0,avgSpeed:0,lastUsed:0,recentErrors:0,trend:"stable"});let o=l.modeStats[e];o.totalInputs++,a?o.successfulInputs++:o.recentErrors++,o.avgSpeed=0===o.avgSpeed?s:.8*o.avgSpeed+.2*s,o.lastUsed=Date.now();let i=o.successfulInputs/o.totalInputs;if(i>.85?o.trend="improving":i>.6?o.trend="stable":o.trend="declining",a?l.frustrationLevel=Math.max(0,l.frustrationLevel-10):l.frustrationLevel=Math.min(100,l.frustrationLevel+25),n&&n.length>3){let e=l.frequentPhrases.find(e=>e.text===n);e?e.count++:l.frequentPhrases.push({text:n,count:1}),l.frequentPhrases.sort((e,t)=>t.count-e.count),l.frequentPhrases=l.frequentPhrases.slice(0,20)}l.totalInputsThisSession++;try{localStorage.setItem(t,JSON.stringify(l))}catch{}}function s(){let e=r();if(e.frustrationLevel>=75){let t=Object.values(e.modeStats).sort((e,t)=>{let r=e.successfulInputs/(e.totalInputs||1);return t.successfulInputs/(t.totalInputs||1)-r})[0];return t?{type:"switch_mode",message:`Having trouble? Try switching to ${t.mode} — your accuracy is ${Math.round(t.successfulInputs/t.totalInputs*100)}% there.`,suggestedMode:t.mode}:{type:"take_break",message:"It seems like things are tricky right now. Take a short break?"}}return(Date.now()-e.sessionStartTime)/6e4>45&&e.totalInputsThisSession>50?{type:"take_break",message:"You've been working for a while. A short break can help!"}:{type:"none",message:""}}function n(){return r().frequentPhrases.slice(0,8).map(e=>e.text)}function l(){return Object.values(r().modeStats).sort((e,t)=>t.lastUsed-e.lastUsed)}function o(){localStorage.removeItem(t)}e.s(["getFrequentPhrases",()=>n,"getModeStats",()=>l,"getSuggestion",()=>s,"recordInput",()=>a,"resetAdaptive",()=>o],55166);var i=e.i(77381),d=e.i(80865),c=e.i(88147);let u=d.forwardRef(({className:e,...t},r)=>(0,i.jsx)("div",{ref:r,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));u.displayName="Card",d.forwardRef(({className:e,...t},r)=>(0,i.jsx)("div",{ref:r,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",d.forwardRef(({className:e,...t},r)=>(0,i.jsx)("div",{ref:r,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",d.forwardRef(({className:e,...t},r)=>(0,i.jsx)("div",{ref:r,className:(0,c.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription",d.forwardRef(({className:e,...t},r)=>(0,i.jsx)("div",{ref:r,className:(0,c.cn)("p-6 pt-0",e),...t})).displayName="CardContent",d.forwardRef(({className:e,...t},r)=>(0,i.jsx)("div",{ref:r,className:(0,c.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>u],8133)},33125,4283,e=>{"use strict";var t=e.i(77381),r=e.i(80865),a=e.i(86070),s=e.i(69215);let n=(0,s.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>n],4283);let l=(0,s.default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var o=e.i(12271);function i({title:e,description:s,icon:i,color:d,children:c,helpContent:u}){let[p,x]=r.default.useState(!1);return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)(a.default,{href:"/",children:(0,t.jsx)(o.Button,{variant:"outline",size:"sm",className:"border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] transition-all font-bold","aria-label":"Back to dashboard",children:(0,t.jsx)(n,{className:"h-4 w-4"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,t.jsx)("div",{className:`p-2 rounded-xl border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] ${d||"bg-primary"}`,children:i}),(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-black text-foreground",children:e})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:s})]}),u&&(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>x(!p),className:"border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] transition-all font-bold","aria-label":"Show help",children:(0,t.jsx)(l,{className:"h-4 w-4"})})]}),p&&u&&(0,t.jsx)("div",{className:"p-4 bg-card border-4 border-border rounded-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:(0,t.jsx)("p",{className:"text-sm font-medium",children:u})}),c]})}e.s(["ModePageLayout",()=>i],33125)},67694,e=>{"use strict";let t=(0,e.i(69215).default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);e.s(["Square",()=>t],67694)},90159,e=>{"use strict";let t=(0,e.i(69215).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],90159)},14146,e=>{"use strict";var t=e.i(77381),r=e.i(80865),a=e.i(81503),s=e.i(55166),n=e.i(33125);function l({stream:e,className:a="",color:s="#000",bgColor:n="transparent"}){let l=(0,r.useRef)(null),o=(0,r.useRef)(0);return(0,r.useEffect)(()=>{if(!e||!l.current||!l.current.getContext("2d"))return;let t=new AudioContext,r=t.createMediaStreamSource(e),a=t.createAnalyser();a.fftSize=256,r.connect(a);let i=a.frequencyBinCount,d=new Uint8Array(i),c=()=>{let e=l.current;if(!e)return;let t=e.getContext("2d");if(!t)return;a.getByteTimeDomainData(d),t.fillStyle=n,t.fillRect(0,0,e.width,e.height),t.lineWidth=2,t.strokeStyle=s,t.beginPath();let r=e.width/i,u=0;for(let a=0;a<i;a++){let s=d[a]/128*e.height/2;0===a?t.moveTo(u,s):t.lineTo(u,s),u+=r}t.lineTo(e.width,e.height/2),t.stroke(),o.current=requestAnimationFrame(c)};return c(),()=>{cancelAnimationFrame(o.current),r.disconnect(),t.close()}},[e,s,n]),(0,t.jsx)("canvas",{ref:l,width:400,height:80,className:`w-full rounded-lg border-2 border-border ${a}`,"aria-label":"Audio waveform visualization"})}var o=e.i(8133),i=e.i(6254),d=e.i(67694),c=e.i(90159);function u(){let{appendOutput:e}=(0,a.useFluentContext)(),[u,p]=(0,r.useState)(!1),[x,h]=(0,r.useState)(null),[m,f]=(0,r.useState)(""),[g,b]=(0,r.useState)("en"),v=(0,r.useRef)(null),w=async()=>{try{let t=await navigator.mediaDevices.getUserMedia({audio:!0}),r=new MediaRecorder(t);v.current=r;let a=[];r.ondataavailable=e=>a.push(e.data),r.onstop=()=>{t.getTracks().forEach(e=>e.stop()),h(null);let r=["Hello, how are you doing today?","I would like to send an email to my friend.","Can you open the browser for me please?","Thank you for helping me with this.","I need to schedule a meeting for tomorrow."],a=r[Math.floor(Math.random()*r.length)];f(a),e(a+" "),(0,s.recordInput)("voice",!0,3e3,a)},r.start(),h(t),p(!0)}catch{(0,s.recordInput)("voice",!1,0)}};return(0,t.jsx)(n.ModePageLayout,{title:"Voice Input",description:"Speak clearly and Fluent will transcribe your words. Supports accented speech and speech impediments.",icon:(0,t.jsx)(i.Mic,{className:"h-6 w-6 text-white"}),color:"bg-blue-500",helpContent:"Click the microphone button and speak. Your speech will be transcribed to text. If you have an accent or speech impediment, Fluent will do its best to understand your intended meaning.",children:(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-[1fr_280px]",children:[(0,t.jsxs)(o.Card,{className:"p-6 border-4 border-border shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] flex flex-col items-center gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.Globe,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"bg-input border-2 border-border rounded-lg px-3 py-1.5 font-bold text-sm shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]","aria-label":"Select language",children:[(0,t.jsx)("option",{value:"en",children:"English"}),(0,t.jsx)("option",{value:"es",children:"Spanish"}),(0,t.jsx)("option",{value:"zh",children:"Chinese"}),(0,t.jsx)("option",{value:"ms",children:"Malay"}),(0,t.jsx)("option",{value:"ta",children:"Tamil"}),(0,t.jsx)("option",{value:"auto",children:"Auto-detect"})]})]}),x&&(0,t.jsx)(l,{stream:x,className:"w-full max-w-md"}),(0,t.jsx)("button",{onClick:u?()=>{v.current?.stop(),p(!1)}:w,className:`h-32 w-32 rounded-full border-4 border-border flex items-center justify-center transition-all
              shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] hover:shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[3px] hover:translate-y-[3px]
              ${u?"bg-destructive animate-pulse":"bg-blue-500 hover:bg-blue-600"}`,"aria-label":u?"Stop recording":"Start recording",children:u?(0,t.jsx)(d.Square,{className:"h-12 w-12 text-white"}):(0,t.jsx)(i.Mic,{className:"h-12 w-12 text-white"})}),(0,t.jsx)("p",{className:"text-sm font-bold text-muted-foreground",children:u?"Recording... click to stop":"Click to start recording"}),m&&(0,t.jsxs)("div",{className:"w-full p-4 bg-input border-2 border-border rounded-xl",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-muted-foreground mb-1",children:"Last transcription:"}),(0,t.jsx)("p",{className:"font-medium",children:m})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(o.Card,{className:"p-4 border-4 border-border shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[(0,t.jsx)("h3",{className:"font-black text-sm mb-2",children:"Tips"}),(0,t.jsxs)("ul",{className:"space-y-2 text-xs font-medium text-muted-foreground",children:[(0,t.jsx)("li",{children:"• Speak clearly at a natural pace"}),(0,t.jsx)("li",{children:"• Reduce background noise if possible"}),(0,t.jsx)("li",{children:"• Accented speech is supported"}),(0,t.jsx)("li",{children:"• You can speak in another language"})]})]}),(0,t.jsxs)(o.Card,{className:"p-4 border-4 border-border shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[(0,t.jsx)("h3",{className:"font-black text-sm mb-2",children:"Status"}),(0,t.jsxs)("div",{className:`flex items-center gap-2 ${u?"text-destructive":"text-muted-foreground"}`,children:[(0,t.jsx)("div",{className:`h-2 w-2 rounded-full ${u?"bg-destructive animate-pulse":"bg-muted-foreground"}`}),(0,t.jsx)("span",{className:"text-xs font-bold",children:u?"Recording...":"Ready"})]})]})]})]})})}e.s(["default",()=>u],14146)}]);