(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55166,8133,e=>{"use strict";let t="fluent-adaptive";function r(){try{let e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch{}return{modeStats:{},frequentPhrases:[],frustrationLevel:0,sessionStartTime:Date.now(),totalInputsThisSession:0}}function s(e,s,a,n){let l=r();l.modeStats[e]||(l.modeStats[e]={mode:e,totalInputs:0,successfulInputs:0,avgSpeed:0,lastUsed:0,recentErrors:0,trend:"stable"});let o=l.modeStats[e];o.totalInputs++,s?o.successfulInputs++:o.recentErrors++,o.avgSpeed=0===o.avgSpeed?a:.8*o.avgSpeed+.2*a,o.lastUsed=Date.now();let d=o.successfulInputs/o.totalInputs;if(d>.85?o.trend="improving":d>.6?o.trend="stable":o.trend="declining",s?l.frustrationLevel=Math.max(0,l.frustrationLevel-10):l.frustrationLevel=Math.min(100,l.frustrationLevel+25),n&&n.length>3){let e=l.frequentPhrases.find(e=>e.text===n);e?e.count++:l.frequentPhrases.push({text:n,count:1}),l.frequentPhrases.sort((e,t)=>t.count-e.count),l.frequentPhrases=l.frequentPhrases.slice(0,20)}l.totalInputsThisSession++;try{localStorage.setItem(t,JSON.stringify(l))}catch{}}function a(){let e=r();if(e.frustrationLevel>=75){let t=Object.values(e.modeStats).sort((e,t)=>{let r=e.successfulInputs/(e.totalInputs||1);return t.successfulInputs/(t.totalInputs||1)-r})[0];return t?{type:"switch_mode",message:`Having trouble? Try switching to ${t.mode} â€” your accuracy is ${Math.round(t.successfulInputs/t.totalInputs*100)}% there.`,suggestedMode:t.mode}:{type:"take_break",message:"It seems like things are tricky right now. Take a short break?"}}return(Date.now()-e.sessionStartTime)/6e4>45&&e.totalInputsThisSession>50?{type:"take_break",message:"You've been working for a while. A short break can help!"}:{type:"none",message:""}}function n(){return r().frequentPhrases.slice(0,8).map(e=>e.text)}function l(){return Object.values(r().modeStats).sort((e,t)=>t.lastUsed-e.lastUsed)}function o(){localStorage.removeItem(t)}e.s(["getFrequentPhrases",()=>n,"getModeStats",()=>l,"getSuggestion",()=>a,"recordInput",()=>s,"resetAdaptive",()=>o],55166);var d=e.i(77381),i=e.i(80865),c=e.i(88147);let x=i.forwardRef(({className:e,...t},r)=>(0,d.jsx)("div",{ref:r,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));x.displayName="Card",i.forwardRef(({className:e,...t},r)=>(0,d.jsx)("div",{ref:r,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",i.forwardRef(({className:e,...t},r)=>(0,d.jsx)("div",{ref:r,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",i.forwardRef(({className:e,...t},r)=>(0,d.jsx)("div",{ref:r,className:(0,c.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription",i.forwardRef(({className:e,...t},r)=>(0,d.jsx)("div",{ref:r,className:(0,c.cn)("p-6 pt-0",e),...t})).displayName="CardContent",i.forwardRef(({className:e,...t},r)=>(0,d.jsx)("div",{ref:r,className:(0,c.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>x],8133)},33125,4283,e=>{"use strict";var t=e.i(77381),r=e.i(80865),s=e.i(86070),a=e.i(69215);let n=(0,a.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>n],4283);let l=(0,a.default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var o=e.i(12271);function d({title:e,description:a,icon:d,color:i,children:c,helpContent:x}){let[u,p]=r.default.useState(!1);return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)(s.default,{href:"/",children:(0,t.jsx)(o.Button,{variant:"outline",size:"sm",className:"border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] transition-all font-bold","aria-label":"Back to dashboard",children:(0,t.jsx)(n,{className:"h-4 w-4"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,t.jsx)("div",{className:`p-2 rounded-xl border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] ${i||"bg-primary"}`,children:d}),(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-black text-foreground",children:e})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:a})]}),x&&(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>p(!u),className:"border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] transition-all font-bold","aria-label":"Show help",children:(0,t.jsx)(l,{className:"h-4 w-4"})})]}),u&&x&&(0,t.jsx)("div",{className:"p-4 bg-card border-4 border-border rounded-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:(0,t.jsx)("p",{className:"text-sm font-medium",children:x})}),c]})}e.s(["ModePageLayout",()=>d],33125)},98831,e=>{"use strict";let t=(0,e.i(69215).default)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);e.s(["Settings2",()=>t],98831)},89468,e=>{"use strict";var t=e.i(77381),r=e.i(80865),s=e.i(81503),a=e.i(55166),n=e.i(33125),l=e.i(8133),o=e.i(12271),d=e.i(30530),i=e.i(98831);let c="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),x=["THE","AND","FOR","ARE","BUT","NOT","YOU","ALL","CAN","HER","WAS","ONE"];function u(){let{appendOutput:e}=(0,s.useFluentContext)(),[u,p]=(0,r.useState)("letters"),[m,h]=(0,r.useState)(0),[f,b]=(0,r.useState)(1500),[g,v]=(0,r.useState)(!1),[y,N]=(0,r.useState)(""),[w,_]=(0,r.useState)(0),j=(0,r.useRef)(null),S=(0,r.useRef)(null),k="letters"===u?[...c," ","âŒ«","â†µ"]:[...x,"âŒ«","â†µ"];(0,r.useEffect)(()=>{if(!g)return;let e=setInterval(()=>{h(e=>(e+1)%k.length)},f);return()=>clearInterval(e)},[g,f,k.length]);let C=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});j.current=e;let t=new AudioContext,r=t.createMediaStreamSource(e),s=t.createAnalyser();s.fftSize=256,r.connect(s),S.current=s;let a=new Uint8Array(s.frequencyBinCount),n=()=>{if(!S.current)return;S.current.getByteFrequencyData(a);let e=a.reduce((e,t)=>e+t,0)/a.length;_(e),requestAnimationFrame(n)};n(),v(!0)}catch{v(!0)}},I=(0,r.useCallback)(()=>{let t=k[m];"âŒ«"===t?N(e=>e.slice(0,-1)):"â†µ"===t?(e(y+" "),(0,a.recordInput)("sip-puff",!0,y.length*f,y),N("")):N(e=>e+("words"===u?t+" ":t))},[k,m,y,u,f,e]);return(0,r.useEffect)(()=>{if(!g)return;let e=e=>{("Space"===e.code||"Enter"===e.code)&&(e.preventDefault(),I())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[g,I]),(0,t.jsx)(n.ModePageLayout,{title:"Sip & Puff",description:"Breath-based input. Blow or sip to select as items scan automatically.",icon:(0,t.jsx)(d.Wind,{className:"h-6 w-6 text-white"}),color:"bg-teal-500",helpContent:"Press Start to begin scanning. Items highlight one at a time. Press Space/Enter (or blow into microphone) to select the highlighted item.",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(l.Card,{className:"p-4 border-4 border-border shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,t.jsxs)(o.Button,{onClick:g?()=>{j.current?.getTracks().forEach(e=>e.stop()),j.current=null,S.current=null,v(!1),_(0)}:C,className:`gap-2 font-bold border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] ${g?"bg-destructive hover:bg-destructive":""}`,children:[(0,t.jsx)(d.Wind,{className:"h-4 w-4"})," ",g?"Stop":"Start Scanning"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.Settings2,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("label",{className:"text-xs font-bold",children:"Speed:"}),(0,t.jsx)("input",{type:"range",min:500,max:3e3,step:100,value:f,onChange:e=>b(Number(e.target.value)),className:"w-24","aria-label":"Scan speed"}),(0,t.jsxs)("span",{className:"text-xs font-bold text-muted-foreground",children:[f,"ms"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{className:"text-xs font-bold",children:"Mode:"}),(0,t.jsxs)("select",{value:u,onChange:e=>{p(e.target.value),h(0)},className:"bg-input border-2 border-border rounded-lg px-2 py-1 font-bold text-xs shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]",children:[(0,t.jsx)("option",{value:"letters",children:"Letters A-Z"}),(0,t.jsx)("option",{value:"words",children:"Common Words"})]})]}),g&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs font-bold text-muted-foreground",children:"Mic:"}),(0,t.jsx)("div",{className:"w-20 h-3 bg-muted rounded-full overflow-hidden border border-border",children:(0,t.jsx)("div",{className:"h-full bg-primary transition-all",style:{width:`${Math.min(2*w,100)}%`}})})]})]})}),(0,t.jsxs)(l.Card,{className:"p-4 border-4 border-border shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-muted-foreground mb-1",children:"Text:"}),(0,t.jsxs)("p",{className:"text-lg font-medium min-h-[28px]",children:[y||(0,t.jsx)("span",{className:"text-muted-foreground",children:"Scanning items..."}),(0,t.jsx)("span",{className:"animate-pulse",children:"|"})]})]}),(0,t.jsx)(l.Card,{className:"p-6 border-4 border-border shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-2 justify-center",children:k.map((e,r)=>(0,t.jsx)("button",{onClick:()=>{h(r),I()},className:`min-w-[44px] min-h-[44px] p-2 rounded-xl border-2 border-border font-bold text-sm transition-all
                  ${r===m&&g?"bg-primary text-primary-foreground scale-125 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] z-10":"bg-card shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:bg-muted"}`,"aria-label":e,children:e},r))})}),(0,t.jsxs)("p",{className:"text-xs font-medium text-center text-muted-foreground",children:["ðŸ’¡ Press ",(0,t.jsx)("kbd",{className:"px-1.5 py-0.5 bg-muted border border-border rounded font-bold",children:"Space"})," or ",(0,t.jsx)("kbd",{className:"px-1.5 py-0.5 bg-muted border border-border rounded font-bold",children:"Enter"})," to select, or blow into your microphone."]})]})})}e.s(["default",()=>u])}]);