(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55166,8133,e=>{"use strict";let t="fluent-adaptive";function a(){try{let e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch{}return{modeStats:{},frequentPhrases:[],frustrationLevel:0,sessionStartTime:Date.now(),totalInputsThisSession:0}}function s(e,s,r,o){let l=a();l.modeStats[e]||(l.modeStats[e]={mode:e,totalInputs:0,successfulInputs:0,avgSpeed:0,lastUsed:0,recentErrors:0,trend:"stable"});let n=l.modeStats[e];n.totalInputs++,s?n.successfulInputs++:n.recentErrors++,n.avgSpeed=0===n.avgSpeed?r:.8*n.avgSpeed+.2*r,n.lastUsed=Date.now();let i=n.successfulInputs/n.totalInputs;if(i>.85?n.trend="improving":i>.6?n.trend="stable":n.trend="declining",s?l.frustrationLevel=Math.max(0,l.frustrationLevel-10):l.frustrationLevel=Math.min(100,l.frustrationLevel+25),o&&o.length>3){let e=l.frequentPhrases.find(e=>e.text===o);e?e.count++:l.frequentPhrases.push({text:o,count:1}),l.frequentPhrases.sort((e,t)=>t.count-e.count),l.frequentPhrases=l.frequentPhrases.slice(0,20)}l.totalInputsThisSession++;try{localStorage.setItem(t,JSON.stringify(l))}catch{}}function r(){let e=a();if(e.frustrationLevel>=75){let t=Object.values(e.modeStats).sort((e,t)=>{let a=e.successfulInputs/(e.totalInputs||1);return t.successfulInputs/(t.totalInputs||1)-a})[0];return t?{type:"switch_mode",message:`Having trouble? Try switching to ${t.mode} â€” your accuracy is ${Math.round(t.successfulInputs/t.totalInputs*100)}% there.`,suggestedMode:t.mode}:{type:"take_break",message:"It seems like things are tricky right now. Take a short break?"}}return(Date.now()-e.sessionStartTime)/6e4>45&&e.totalInputsThisSession>50?{type:"take_break",message:"You've been working for a while. A short break can help!"}:{type:"none",message:""}}function o(){return a().frequentPhrases.slice(0,8).map(e=>e.text)}function l(){return Object.values(a().modeStats).sort((e,t)=>t.lastUsed-e.lastUsed)}function n(){localStorage.removeItem(t)}e.s(["getFrequentPhrases",()=>o,"getModeStats",()=>l,"getSuggestion",()=>r,"recordInput",()=>s,"resetAdaptive",()=>n],55166);var i=e.i(77381),d=e.i(80865),c=e.i(88147);let x=d.forwardRef(({className:e,...t},a)=>(0,i.jsx)("div",{ref:a,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));x.displayName="Card",d.forwardRef(({className:e,...t},a)=>(0,i.jsx)("div",{ref:a,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",d.forwardRef(({className:e,...t},a)=>(0,i.jsx)("div",{ref:a,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",d.forwardRef(({className:e,...t},a)=>(0,i.jsx)("div",{ref:a,className:(0,c.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription",d.forwardRef(({className:e,...t},a)=>(0,i.jsx)("div",{ref:a,className:(0,c.cn)("p-6 pt-0",e),...t})).displayName="CardContent",d.forwardRef(({className:e,...t},a)=>(0,i.jsx)("div",{ref:a,className:(0,c.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>x],8133)},33125,4283,e=>{"use strict";var t=e.i(77381),a=e.i(80865),s=e.i(86070),r=e.i(69215);let o=(0,r.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>o],4283);let l=(0,r.default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var n=e.i(12271);function i({title:e,description:r,icon:i,color:d,children:c,helpContent:x}){let[u,p]=a.default.useState(!1);return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)(s.default,{href:"/",children:(0,t.jsx)(n.Button,{variant:"outline",size:"sm",className:"border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] transition-all font-bold","aria-label":"Back to dashboard",children:(0,t.jsx)(o,{className:"h-4 w-4"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,t.jsx)("div",{className:`p-2 rounded-xl border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] ${d||"bg-primary"}`,children:i}),(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-black text-foreground",children:e})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:r})]}),x&&(0,t.jsx)(n.Button,{variant:"outline",size:"sm",onClick:()=>p(!u),className:"border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] transition-all font-bold","aria-label":"Show help",children:(0,t.jsx)(l,{className:"h-4 w-4"})})]}),u&&x&&(0,t.jsx)("div",{className:"p-4 bg-card border-4 border-border rounded-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:(0,t.jsx)("p",{className:"text-sm font-medium",children:x})}),c]})}e.s(["ModePageLayout",()=>i],33125)},98831,e=>{"use strict";let t=(0,e.i(69215).default)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);e.s(["Settings2",()=>t],98831)},19825,e=>{"use strict";var t=e.i(77381),a=e.i(80865),s=e.i(69215);let r=(0,s.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),o=(0,s.default)("camera-off",[["path",{d:"M14.564 14.558a3 3 0 1 1-4.122-4.121",key:"1rnrzw"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M20 20H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 .819-.175",key:"1x3arw"}],["path",{d:"M9.695 4.024A2 2 0 0 1 10.004 4h3.993a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v7.344",key:"1i84u0"}]]),l=(0,s.default)("flip-horizontal",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]);var n=e.i(12271);function i({onFrame:e,frameInterval:s=100,mirror:i=!0,className:d="",showControls:c=!0}){let x=(0,a.useRef)(null),[u,p]=(0,a.useState)(null),[m,h]=(0,a.useState)(null),[f,g]=(0,a.useState)(i),[b,v]=(0,a.useState)(!1),y=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:640,height:480}});x.current&&(x.current.srcObject=e,await x.current.play()),p(e),v(!0),h(null)}catch{h("Could not access camera. Please allow camera permissions.")}};return((0,a.useEffect)(()=>{if(!b||!e||!x.current)return;let t=setInterval(()=>{x.current&&e(x.current)},s);return()=>clearInterval(t)},[b,e,s]),(0,a.useEffect)(()=>()=>{u?.getTracks().forEach(e=>e.stop())},[u]),m)?(0,t.jsxs)("div",{className:`flex flex-col items-center justify-center gap-3 p-8 bg-card border-4 border-border rounded-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] ${d}`,children:[(0,t.jsx)(o,{className:"h-12 w-12 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-sm font-bold text-center text-muted-foreground",children:m}),(0,t.jsx)(n.Button,{onClick:y,className:"font-bold border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)]",children:"Try Again"})]}):(0,t.jsxs)("div",{className:`relative bg-card border-4 border-border rounded-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] overflow-hidden ${d}`,children:[b?(0,t.jsx)("video",{ref:x,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-full object-cover ${f?"scale-x-[-1]":""}`}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3 p-8 min-h-[200px]",children:[(0,t.jsx)(r,{className:"h-12 w-12 text-muted-foreground"}),(0,t.jsx)(n.Button,{onClick:y,className:"font-bold border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)]",children:"Start Camera"})]}),c&&b&&(0,t.jsxs)("div",{className:"absolute bottom-2 right-2 flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>g(!f),className:"p-1.5 bg-black/50 text-white rounded-lg hover:bg-black/70 transition-colors","aria-label":"Flip camera",children:(0,t.jsx)(l,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>{u?.getTracks().forEach(e=>e.stop()),p(null),v(!1)},className:"p-1.5 bg-destructive/80 text-white rounded-lg hover:bg-destructive transition-colors","aria-label":"Stop camera",children:(0,t.jsx)(o,{className:"h-4 w-4"})})]})]})}e.s(["WebcamPreview",()=>i],19825)},37701,e=>{"use strict";var t=e.i(77381),a=e.i(80865),s=e.i(81503),r=e.i(55166),o=e.i(33125),l=e.i(19825),n=e.i(8133),i=e.i(12271),d=e.i(22449),c=e.i(69215);let x=(0,c.default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),u=(0,c.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var p=e.i(4283);let m=(0,c.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var h=e.i(98831);let f=[{motion:"Nod Up",action:"Yes",icon:(0,t.jsx)(x,{className:"h-5 w-5"})},{motion:"Nod Down",action:"No",icon:(0,t.jsx)(u,{className:"h-5 w-5"})},{motion:"Tilt Left",action:"Previous",icon:(0,t.jsx)(p.ArrowLeft,{className:"h-5 w-5"})},{motion:"Tilt Right",action:"Next",icon:(0,t.jsx)(m,{className:"h-5 w-5"})}];function g(){let{appendOutput:e}=(0,s.useFluentContext)(),[c,x]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),[m,g]=(0,a.useState)(f),[b,v]=(0,a.useState)(50),[y,w]=(0,a.useState)({pitch:0,yaw:0,roll:0});(0,a.useEffect)(()=>{if(!c)return;let e=e=>{let t=window.innerWidth/2,a=window.innerHeight/2,s=(e.clientX-t)/t*30,r=(e.clientY-a)/a*30;w({pitch:r,yaw:s,roll:0});let o=(100-b)/100*25+5;r<-o&&"Nod Up"!==u?N("Nod Up"):r>o&&"Nod Down"!==u?N("Nod Down"):s<-o&&"Tilt Left"!==u?N("Tilt Left"):s>o&&"Tilt Right"!==u?N("Tilt Right"):Math.abs(r)<o/2&&Math.abs(s)<o/2&&p(null)};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[c,b,u]);let N=t=>{p(t);let a=m.find(e=>e.motion===t);a&&(e(a.action+" "),(0,r.recordInput)("head-motion",!0,500,a.action),navigator.vibrate&&navigator.vibrate(50))};return(0,t.jsx)(o.ModePageLayout,{title:"Head Motion",description:"Nod, shake, and tilt your head to input commands. Fully customizable mappings.",icon:(0,t.jsx)(d.Move,{className:"h-6 w-6 text-white"}),color:"bg-amber-500",helpContent:"Start tracking, then move your head. Nod up/down and tilt left/right trigger mapped actions. In this demo, mouse position simulates head pose.",children:(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[1fr_300px]",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(l.WebcamPreview,{className:"aspect-video"}),(0,t.jsxs)(i.Button,{onClick:()=>x(!c),className:`w-full gap-2 font-bold border-2 border-border shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] transition-all ${c?"bg-destructive hover:bg-destructive":""}`,children:[(0,t.jsx)(d.Move,{className:"h-4 w-4"}),c?"Stop Tracking":"Start Tracking"]}),c&&(0,t.jsxs)(n.Card,{className:"p-4 border-4 border-border shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-xs font-bold text-muted-foreground",children:"Detected pose:"}),u&&(0,t.jsx)("span",{className:"text-xs font-black bg-primary text-primary-foreground px-2 py-0.5 rounded-lg",children:u})]}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2 text-center",children:["pitch","yaw","roll"].map(e=>(0,t.jsxs)("div",{className:"p-2 bg-muted rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-muted-foreground uppercase",children:e}),(0,t.jsxs)("p",{className:"text-sm font-black",children:[y[e].toFixed(1),"Â°"]})]},e))})]}),(0,t.jsx)("p",{className:"text-xs font-medium text-center text-muted-foreground",children:"ðŸ’¡ Mouse position simulates head pose in this demo. Production uses webcam face tracking."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(n.Card,{className:"p-4 border-4 border-border shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[(0,t.jsxs)("h3",{className:"font-black text-sm mb-3 flex items-center gap-2",children:[(0,t.jsx)(h.Settings2,{className:"h-4 w-4"})," Motion Mappings"]}),(0,t.jsx)("div",{className:"space-y-2",children:m.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 w-24",children:[e.icon,(0,t.jsx)("span",{className:"text-xs font-bold",children:e.motion})]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"â†’"}),(0,t.jsx)("input",{type:"text",value:e.action,onChange:e=>{var t;return t=e.target.value,void g(e=>e.map((e,s)=>s===a?{...e,action:t}:e))},className:"flex-1 px-2 py-1 border-2 border-border rounded-lg text-xs font-bold bg-input","aria-label":`Action for ${e.motion}`})]},a))})]}),(0,t.jsxs)(n.Card,{className:"p-4 border-4 border-border shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[(0,t.jsx)("h3",{className:"font-black text-sm mb-2",children:"Sensitivity"}),(0,t.jsx)("input",{type:"range",min:10,max:90,value:b,onChange:e=>v(Number(e.target.value)),className:"w-full","aria-label":"Motion sensitivity"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground font-bold mt-1",children:[(0,t.jsx)("span",{children:"Less sensitive"}),(0,t.jsx)("span",{children:"More sensitive"})]})]})]})]})})}e.s(["default",()=>g],37701)}]);