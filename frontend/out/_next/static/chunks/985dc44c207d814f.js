(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55166,8133,e=>{"use strict";let t="fluent-adaptive";function s(){try{let e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch{}return{modeStats:{},frequentPhrases:[],frustrationLevel:0,sessionStartTime:Date.now(),totalInputsThisSession:0}}function a(e,a,r,l){let n=s();n.modeStats[e]||(n.modeStats[e]={mode:e,totalInputs:0,successfulInputs:0,avgSpeed:0,lastUsed:0,recentErrors:0,trend:"stable"});let o=n.modeStats[e];o.totalInputs++,a?o.successfulInputs++:o.recentErrors++,o.avgSpeed=0===o.avgSpeed?r:.8*o.avgSpeed+.2*r,o.lastUsed=Date.now();let d=o.successfulInputs/o.totalInputs;if(d>.85?o.trend="improving":d>.6?o.trend="stable":o.trend="declining",a?n.frustrationLevel=Math.max(0,n.frustrationLevel-10):n.frustrationLevel=Math.min(100,n.frustrationLevel+25),l&&l.length>3){let e=n.frequentPhrases.find(e=>e.text===l);e?e.count++:n.frequentPhrases.push({text:l,count:1}),n.frequentPhrases.sort((e,t)=>t.count-e.count),n.frequentPhrases=n.frequentPhrases.slice(0,20)}n.totalInputsThisSession++;try{localStorage.setItem(t,JSON.stringify(n))}catch{}}function r(){let e=s();if(e.frustrationLevel>=75){let t=Object.values(e.modeStats).sort((e,t)=>{let s=e.successfulInputs/(e.totalInputs||1);return t.successfulInputs/(t.totalInputs||1)-s})[0];return t?{type:"switch_mode",message:`Having trouble? Try switching to ${t.mode} â€” your accuracy is ${Math.round(t.successfulInputs/t.totalInputs*100)}% there.`,suggestedMode:t.mode}:{type:"take_break",message:"It seems like things are tricky right now. Take a short break?"}}return(Date.now()-e.sessionStartTime)/6e4>45&&e.totalInputsThisSession>50?{type:"take_break",message:"You've been working for a while. A short break can help!"}:{type:"none",message:""}}function l(){return s().frequentPhrases.slice(0,8).map(e=>e.text)}function n(){return Object.values(s().modeStats).sort((e,t)=>t.lastUsed-e.lastUsed)}function o(){localStorage.removeItem(t)}e.s(["getFrequentPhrases",()=>l,"getModeStats",()=>n,"getSuggestion",()=>r,"recordInput",()=>a,"resetAdaptive",()=>o],55166);var d=e.i(77381),i=e.i(80865),c=e.i(88147);let u=i.forwardRef(({className:e,...t},s)=>(0,d.jsx)("div",{ref:s,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));u.displayName="Card",i.forwardRef(({className:e,...t},s)=>(0,d.jsx)("div",{ref:s,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",e),...t})).displayName="CardHeader",i.forwardRef(({className:e,...t},s)=>(0,d.jsx)("div",{ref:s,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",i.forwardRef(({className:e,...t},s)=>(0,d.jsx)("div",{ref:s,className:(0,c.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription",i.forwardRef(({className:e,...t},s)=>(0,d.jsx)("div",{ref:s,className:(0,c.cn)("p-6 pt-0",e),...t})).displayName="CardContent",i.forwardRef(({className:e,...t},s)=>(0,d.jsx)("div",{ref:s,className:(0,c.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>u],8133)},33125,4283,e=>{"use strict";var t=e.i(77381),s=e.i(80865),a=e.i(86070),r=e.i(69215);let l=(0,r.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>l],4283);let n=(0,r.default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var o=e.i(12271);function d({title:e,description:r,icon:d,color:i,children:c,helpContent:u}){let[x,p]=s.default.useState(!1);return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)(a.default,{href:"/",children:(0,t.jsx)(o.Button,{variant:"outline",size:"sm",className:"border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] transition-all font-bold","aria-label":"Back to dashboard",children:(0,t.jsx)(l,{className:"h-4 w-4"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,t.jsx)("div",{className:`p-2 rounded-xl border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] ${i||"bg-primary"}`,children:d}),(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-black text-foreground",children:e})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:r})]}),u&&(0,t.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>p(!x),className:"border-2 border-border shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] transition-all font-bold","aria-label":"Show help",children:(0,t.jsx)(n,{className:"h-4 w-4"})})]}),x&&u&&(0,t.jsx)("div",{className:"p-4 bg-card border-4 border-border rounded-xl shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:(0,t.jsx)("p",{className:"text-sm font-medium",children:u})}),c]})}e.s(["ModePageLayout",()=>d],33125)},98831,e=>{"use strict";let t=(0,e.i(69215).default)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);e.s(["Settings2",()=>t],98831)},53417,e=>{"use strict";var t=e.i(77381),s=e.i(80865),a=e.i(69215);let r=(0,a.default)("delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]),l=(0,a.default)("corner-down-left",[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]]),n=(0,a.default)("space",[["path",{d:"M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1",key:"lt2kga"}]]),o=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]],d=[["A","B","C","D","E","F","G"],["H","I","J","K","L","M","N"],["O","P","Q","R","S","T","U"],["V","W","X","Y","Z"]];function i({onKeyPress:e,mode:a="click",dwellTime:i=1200,scanSpeed:c=1500,layout:u="qwerty",className:x=""}){let p="qwerty"===u?o:d,[m,h]=(0,s.useState)(null),[f,b]=(0,s.useState)(0),[g,y]=(0,s.useState)(0),v=(0,s.useRef)(null),w=(0,s.useRef)(0),N=p.flat().concat(["SPACE","BACKSPACE","ENTER"]),j=(0,s.useCallback)(t=>{if("dwell"!==a)return;h(t),w.current=Date.now(),b(0);let s=()=>{let a=Math.min((Date.now()-w.current)/i,1);b(a),a>=1?(e("SPACE"===t?" ":"BACKSPACE"===t?"\b":"ENTER"===t?"\n":t),b(0),w.current=Date.now()):v.current=setTimeout(s,50)};v.current=setTimeout(s,50)},[a,i,e]),_=(0,s.useCallback)(()=>{v.current&&clearTimeout(v.current),h(null),b(0)},[]);(0,s.useEffect)(()=>{if("scan"!==a)return;let e=setInterval(()=>{y(e=>(e+1)%N.length)},c);return()=>clearInterval(e)},[a,c,N.length]),(0,s.useEffect)(()=>{if("scan"!==a)return;let t=t=>{if("Space"===t.code||"Enter"===t.code){t.preventDefault();let s=N[g];e("SPACE"===s?" ":"BACKSPACE"===s?"\b":"ENTER"===s?"\n":s)}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[a,g,N,e]);let k=t=>{"click"===a&&e("SPACE"===t?" ":"BACKSPACE"===t?"\b":"ENTER"===t?"\n":t)},S=e=>{let t="scan"===a&&N.indexOf(e)===g,s="dwell"===a&&m===e;return`relative font-bold text-sm border-2 border-border rounded-lg transition-all
      ${t?"bg-primary text-primary-foreground scale-110 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]":"bg-card hover:bg-muted shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]"}
      ${s?"ring-2 ring-primary":""}
      min-w-[40px] min-h-[40px] p-2 flex items-center justify-center cursor-pointer
      hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)]`};return(0,t.jsxs)("div",{className:`space-y-2 ${x}`,role:"group","aria-label":"On-screen keyboard",children:[p.map((e,s)=>(0,t.jsx)("div",{className:"flex justify-center gap-1.5",children:e.map(e=>(0,t.jsxs)("button",{className:S(e),onClick:()=>k(e),onMouseEnter:()=>j(e),onMouseLeave:_,"aria-label":e,children:[e,"dwell"===a&&m===e&&f>0&&(0,t.jsx)("div",{className:"absolute bottom-0 left-0 h-1 bg-primary rounded-b-lg transition-all",style:{width:`${100*f}%`}})]},e))},s)),(0,t.jsxs)("div",{className:"flex justify-center gap-1.5",children:[(0,t.jsx)("button",{className:`${S("BACKSPACE")} px-4`,onClick:()=>k("BACKSPACE"),onMouseEnter:()=>j("BACKSPACE"),onMouseLeave:_,"aria-label":"Backspace",children:(0,t.jsx)(r,{className:"h-4 w-4"})}),(0,t.jsx)("button",{className:`${S("SPACE")} flex-1 max-w-[200px]`,onClick:()=>k("SPACE"),onMouseEnter:()=>j("SPACE"),onMouseLeave:_,"aria-label":"Space",children:(0,t.jsx)(n,{className:"h-4 w-4"})}),(0,t.jsx)("button",{className:`${S("ENTER")} px-4`,onClick:()=>k("ENTER"),onMouseEnter:()=>j("ENTER"),onMouseLeave:_,"aria-label":"Enter",children:(0,t.jsx)(l,{className:"h-4 w-4"})})]})]})}e.s(["OnScreenKeyboard",()=>i],53417)},6347,e=>{"use strict";var t=e.i(77381),s=e.i(80865),a=e.i(81503),r=e.i(55166),l=e.i(33125),n=e.i(53417),o=e.i(8133),d=e.i(83631),i=e.i(98831);function c(){let{appendOutput:e,settings:c}=(0,a.useFluentContext)(),[u,x]=(0,s.useState)(""),[p,m]=(0,s.useState)(c.dwellTime),[h,f]=(0,s.useState)("qwerty"),b=(0,s.useCallback)(t=>{"\b"===t?x(e=>e.slice(0,-1)):"\n"===t?(e(u+" "),(0,r.recordInput)("eye-gaze",!0,u.length*p,u),x("")):x(e=>e+t)},[e,u,p]);return(0,t.jsx)(l.ModePageLayout,{title:"Eye Gaze",description:"Look at keys to type. Dwell on a key to select it. Mocked with mouse hover.",icon:(0,t.jsx)(d.Eye,{className:"h-6 w-6 text-white"}),color:"bg-cyan-500",helpContent:"Hover over a key and hold still. After the dwell time, the key will be selected. Adjust dwell time below. In production, this uses webcam-based eye tracking.",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(o.Card,{className:"p-4 border-4 border-border shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.Settings2,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("label",{className:"text-xs font-bold",children:"Dwell Time:"}),(0,t.jsx)("input",{type:"range",min:400,max:3e3,step:100,value:p,onChange:e=>m(Number(e.target.value)),className:"w-32","aria-label":"Dwell time"}),(0,t.jsxs)("span",{className:"text-xs font-bold text-muted-foreground",children:[p,"ms"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{className:"text-xs font-bold",children:"Layout:"}),(0,t.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"bg-input border-2 border-border rounded-lg px-2 py-1 font-bold text-xs shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]",children:[(0,t.jsx)("option",{value:"qwerty",children:"QWERTY"}),(0,t.jsx)("option",{value:"alphabetical",children:"A-Z"})]})]})]})}),(0,t.jsxs)(o.Card,{className:"p-4 border-4 border-border shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-muted-foreground mb-1",children:"Preview:"}),(0,t.jsxs)("p",{className:"text-lg font-medium min-h-[28px]",children:[u||(0,t.jsx)("span",{className:"text-muted-foreground",children:"Hover over keys to type..."}),(0,t.jsx)("span",{className:"animate-pulse",children:"|"})]})]}),(0,t.jsx)(o.Card,{className:"p-6 border-4 border-border shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]",children:(0,t.jsx)(n.OnScreenKeyboard,{onKeyPress:b,mode:"dwell",dwellTime:p,layout:h})}),(0,t.jsx)("p",{className:"text-xs font-medium text-center text-muted-foreground",children:"ðŸ’¡ In this demo, mouse hover simulates eye gaze. In production, webcam-based eye tracking is used."})]})})}e.s(["default",()=>c])}]);